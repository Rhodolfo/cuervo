unlist
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist
library(shinydashboard)
library(stringr)
library(shinyWidgets)
library(readr)
library(readxl)
library(ggplot2)
library(lubridate)
library(formattable)
library(plyr)
library(dplyr)
library(RColorBrewer)
source('gs.R', encoding = "UTF-8")
# source('proceso.R', encoding = "UTF-8")
# source('grafica_fill_rate.R', encoding = "UTF-8")
# source('mapa.R', encoding = "UTF-8")
source('funciones_de_carga.R', encoding = "UTF-8")
source('funciones_graficas.R', encoding = "UTF-8")
source('funciones_interfaz.R', encoding = "UTF-8")
excel_parametros <- read_excel('datos/setup/parametros.xlsx') %>% data.frame
for(i in 1:nrow(excel_parametros)){
for(j in 1:length(excel_parametros)){
excel_parametros[i,j] <- str_replace_all(excel_parametros[i,j],' ','_')
}
}
prueba parámetros
parametros <- list()
parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist
tablas <- list()
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$row <- funcion_cargar_datos(parametros$row_carpeta,parametros$row_fechas,parametros$row_cantidades,parametros$row_filtros,parametros$row_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región != 'USA')
tablas$domestico <- funcion_cargar_datos(parametros$domestico_carpeta,parametros$domestico_fechas,parametros$domestico_cantidades,parametros$domestico_filtros,parametros$domestico_pedido)
f_region <- 'usa'
f_region <- 'usa'
lista_opciones <- list()
eval(parse(text = paste0(('parametros$',f_region,'_filtro'))))
parametros
paste0('parametros$',f_region,'_filtro')
eval(parse(text = paste0('parametros$',f_region,'_filtro')))
eval(parse(text = paste0('f_vars <- parametros$',f_region,'_filtro')))
f_vars
parse(text = paste0('tablas$visualizacion1 <- tablas$',f_region))
eval(parse(text = paste0('tablas$visualizacion1 <- tablas$',f_region)))
paste0('unique(tablas$visualizacion$',f_vars,')')
parse(text = paste0('opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')'))
f_opciones <- list()
eval(parse(text = paste0('f_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')', collapse = ';')))
f_opciones
vector_opciones <- NULL
for(i in 1:length(lista_opciones)){
lista_opciones[[i]] <- paste0('"',paste0(lista_opciones[[i]],collapse = '","'),'"')
vector_opciones <- c(vector_opciones,lista_opciones[[i]])
}
f_lista_opciones <- list()
eval(parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')', collapse = ';')))
f_vector_opciones <- NULL
for(i in 1:length(f_lista_opciones)){
f_lista_opciones[[i]] <- paste0('"',paste0(f_lista_opciones[[i]],collapse = '","'),'"')
f_vector_opciones <- c(f_vector_opciones,f_lista_opciones[[i]])
}
f_vector_opciones
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,')))')
funcion2
funcion1 <- 'tagList('
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,')))')
funcion2 <- paste0(funcion2,collapse = ',')
funcion3 <- ')'
resultado <- eval(parse(text = paste0(
funcion1,
funcion2,
funcion3
)))
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
shiny::runApp()
f_region <- 'row'
lista_opciones <- list()
eval(parse(text = paste0('f_vars <- parametros$',f_region,'_filtro')))  # nombres de las variables
eval(parse(text = paste0('tablas$visualizacion1 <- tablas$',f_region)))
f_lista_opciones <- list()
eval(parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')', collapse = ';')))
f_vector_opciones <- NULL
for(i in 1:length(f_lista_opciones)){
f_lista_opciones[[i]] <- paste0('"',paste0(f_lista_opciones[[i]],collapse = '","'),'"')
f_vector_opciones <- c(f_vector_opciones,f_lista_opciones[[i]])
}
funcion1 <- 'tagList('
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,')))')
funcion2 <- paste0(funcion2,collapse = ',')
funcion3 <- ')'
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
funcion2 <- paste0(funcion2,collapse = ',\n')
funcion3 <- ')'
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,'))),\n')
funcion2 <- paste0(funcion2,collapse = ',')
funcion3 <- ')'
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,')))', collapse = ',\n')
funcion2 <- paste0(funcion2,collapse = ',')
funcion3 <- ')'
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
runApp()
f_region <- 'usa'
eval(parse(text = paste0('f_vars <- parametros$',f_region,'_filtro')))  # nombres de las variables
eval(parse(text = paste0('tablas$visualizacion1 <- tablas$',f_region)))
f_lista_opciones <- list()
eval(parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')', collapse = ';')))
f_vector_opciones <- NULL
for(i in 1:length(f_lista_opciones)){
f_lista_opciones[[i]] <- paste0('"',paste0(f_lista_opciones[[i]],collapse = '","'),'"')
f_vector_opciones <- c(f_vector_opciones,f_lista_opciones[[i]])
}
funcion1 <- 'tagList('
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,')))', collapse = ',\n')
funcion2 <- paste0(funcion2,collapse = ',')
funcion3 <- ')'
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
f_region <- 'row'
eval(parse(text = paste0('f_vars <- parametros$',f_region,'_filtro')))  # nombres de las variables
eval(parse(text = paste0('tablas$visualizacion1 <- tablas$',f_region)))
f_lista_opciones <- list()
eval(parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')', collapse = ';')))
f_vector_opciones <- NULL
for(i in 1:length(f_lista_opciones)){
f_lista_opciones[[i]] <- paste0('"',paste0(f_lista_opciones[[i]],collapse = '","'),'"')
f_vector_opciones <- c(f_vector_opciones,f_lista_opciones[[i]])
}
funcion1 <- 'tagList('
funcion2 <- paste0('div(style="display:inline-block",pickerInput(width = 150,"input_filtro_',f_vars,'",
"',f_vars,'",selected = NULL,options = list(`actions-box` = TRUE),multiple = TRUE,choices = c(',f_vector_opciones,')))', collapse = ',\n')
funcion2 <- paste0(funcion2,collapse = ',')
funcion3 <- ')'
parse(text = paste0(
funcion1,
funcion2,
funcion3
))
runApp()
parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')', collapse = ';'))
parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')'))
parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,'))'))
parse(text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')'))
paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')')
eval(parse(text = f_t <- paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')')))
f_t <- text = paste0('f_lista_opciones[[',1:length(f_vars),']] <- unique(tablas$visualizacion$',f_vars,')')
f_t
f_tt <- paste0(f_t,collapse = ';')
f_tt
eval(parse(text = paste0(f_t,collapse = ';')))
f_lista_opciones
f_vector_opciones <- NULL
for(i in 1:length(f_lista_opciones)){
f_lista_opciones[[i]] <- paste0('"',paste0(f_lista_opciones[[i]],collapse = '","'),'"')
f_vector_opciones <- c(f_vector_opciones,f_lista_opciones[[i]])
}
f_vector_opciones
runApp()
runApp()
codigos <- list()
runApp()
runApp()
runApp()
runApp()
library(shinydashboard)
library(stringr)
library(shinyWidgets)
library(readr)
library(readxl)
library(ggplot2)
library(lubridate)
library(formattable)
library(plyr)
library(dplyr)
library(RColorBrewer)
source('gs.R', encoding = "UTF-8")
# source('proceso.R', encoding = "UTF-8")
# source('grafica_fill_rate.R', encoding = "UTF-8")
# source('mapa.R', encoding = "UTF-8")
source('funciones_de_carga.R', encoding = "UTF-8")
source('funciones_graficas.R', encoding = "UTF-8")
source('funciones_interfaz.R', encoding = "UTF-8")
excel_parametros <- read_excel('datos/setup/parametros.xlsx') %>% data.frame
for(i in 1:nrow(excel_parametros)){
for(j in 1:length(excel_parametros)){
excel_parametros[i,j] <- str_replace_all(excel_parametros[i,j],' ','_')
}
}
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región == 'USA')
parametros <- list()
parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist
tablas <- list()
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$row <- funcion_cargar_datos(parametros$row_carpeta,parametros$row_fechas,parametros$row_cantidades,parametros$row_filtros,parametros$row_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región != 'USA')
head(tablas$row)
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(!is.na(Zona_de_ventas)) %>%
dplyr::filter(Nombre_Región == 'USA')
runApp()
paste0("observeEvent(input$input_filtro_1,{
a <- 'ninguno'
if(!is.null(tablas$visualizacion1)){
f_tabla <- tablas$visualizacion1 %>% dplyr::filter(",parametros$visualizacion1_filtros[1]," %in% input$input_filtro_1) %>% dplyr::select(",parametros$visualizacion1_filtros[2],")
a <- unique(as.character(f_tabla$",parametros$visualizacion1_filtros[2],"))
}
updatePickerInput(session = session, inputId = 'input_filtro_2', choices = a)
})")
runApp()
parse(text = paste0("observeEvent(input$input_filtro_1,{
a <- 'ninguno'
if(!is.null(tablas$visualizacion1)){
f_tabla <- tablas$visualizacion1 %>% dplyr::filter(",parametros$visualizacion1_filtros[1]," %in% input$input_filtro_1) %>% dplyr::select(",parametros$visualizacion1_filtros[2],")
a <- unique(as.character(f_tabla$",parametros$visualizacion1_filtros[2],"))
}
updatePickerInput(session = session, inputId = 'input_filtro_2', choices = a)
})"))
runApp()
paste0("observeEvent(input$input_filtro_1,{
a <- 'ninguno'
if(!is.null(parametros$visualizacion1_filtros)){
f_tabla <- tablas$visualizacion1 %>% dplyr::filter(",parametros$visualizacion1_filtros[1]," %in% input$input_filtro_1) %>% dplyr::select(",parametros$visualizacion1_filtros[2],")
a <- unique(as.character(f_tabla$",parametros$visualizacion1_filtros[2],"))
}
updatePickerInput(session = session, inputId = 'input_filtro_2', choices = a)
})")
runApp()
f_region <- 'row'
if(input$input_filtro_zona == 'USA')f_region <- 'usa'
if(input$input_filtro_zona == 'Resto del mundo')f_region <- 'row'
if(input$input_filtro_zona == 'Doméstico')f_region <- 'domestico'
eval(parse(text = paste0('parametros$visualizacion1_filtros <- parametros$',f_region,'_filtros')))  # nombres de las variables
f_region <- 'row'
eval(parse(text = paste0('parametros$visualizacion1_filtros <- parametros$',f_region,'_filtros')))  # nombres de las variables
parametros <- list()
eval(parse(text = paste0('parametros$visualizacion1_filtros <- parametros$',f_region,'_filtros')))  # nombres de las variables
parametros
library(shinydashboard)
library(stringr)
library(shinyWidgets)
library(readr)
library(readxl)
library(ggplot2)
library(lubridate)
library(formattable)
library(plyr)
library(dplyr)
library(RColorBrewer)
source('gs.R', encoding = "UTF-8")
# source('proceso.R', encoding = "UTF-8")
# source('grafica_fill_rate.R', encoding = "UTF-8")
# source('mapa.R', encoding = "UTF-8")
source('funciones_de_carga.R', encoding = "UTF-8")
source('funciones_graficas.R', encoding = "UTF-8")
source('funciones_interfaz.R', encoding = "UTF-8")
excel_parametros <- read_excel('datos/setup/parametros.xlsx') %>% data.frame
for(i in 1:nrow(excel_parametros)){
for(j in 1:length(excel_parametros)){
excel_parametros[i,j] <- str_replace_all(excel_parametros[i,j],' ','_')
}
}
parametros <- list()
parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist
f_region <- 'row'
eval(parse(text = paste0('parametros$visualizacion1_filtros <- parametros$',f_region,'_filtros')))  # nombres de las variables
paraemtros
parametros
parse(text = paste0("observeEvent(input$input_filtro_1,{
a <- 'ninguno'
if(!is.null(parametros$visualizacion1_filtros)){
f_tabla <- tablas$visualizacion1 %>% dplyr::filter(",parametros$visualizacion1_filtros[1]," %in% input$input_filtro_1) %>% dplyr::select(",parametros$visualizacion1_filtros[2],")
a <- unique(as.character(f_tabla$",parametros$visualizacion1_filtros[2],"))
}
updatePickerInput(session = session, inputId = 'input_filtro_2', choices = a)
})"))
runApp()
f_region <- 'row'
eval(parse(text = paste0('parametros$visualizacion1_filtros <- parametros$',f_region,'_filtros')))  # nombres de las variables
eval(parse(text = paste0('tablas$visualizacion1 <- tablas$',f_region)))
f_lista_opciones <- list()
f_t <-  paste0('f_lista_opciones[[',1:length(parametros$visualizacion1_filtros),']] <- unique(tablas$visualizacion1$',parametros$visualizacion1_filtros,')')
runApp()
