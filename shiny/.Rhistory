parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist %>%
as.character,
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist %>%
as.character,
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist %>%
as.character,
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist %>%
as.character,
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist %>%
as.character,
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist %>%
as.character,
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist %>%
as.character,
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist %>%
as.character,
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist %>%
as.character,
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist %>%
as.character,
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist %>%
as.character,
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist %>%
as.character,
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist %>%
as.character,
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist %>%
as.character,
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist %>%
as.character
parametros <- list()
parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist %>%
as.character
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist %>%
as.character
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist %>%
as.character
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist %>%
as.character
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist %>%
as.character
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist %>%
as.character
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist %>%
as.character
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist %>%
as.character
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist %>%
as.character
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist %>%
as.character
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist %>%
as.character
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist %>%
as.character
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist %>%
as.character
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist %>%
as.character
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist %>%
as.character
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$row <- funcion_cargar_datos(parametros$row_carpeta,parametros$row_fechas,parametros$row_cantidades,parametros$row_filtros,parametros$row_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región != 'USA')
tablas <- list()
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$row <- funcion_cargar_datos(parametros$row_carpeta,parametros$row_fechas,parametros$row_cantidades,parametros$row_filtros,parametros$row_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región != 'USA')
tablas$domestico <- funcion_cargar_datos(parametros$domestico_carpeta,parametros$domestico_fechas,parametros$domestico_cantidades,parametros$domestico_filtros,parametros$domestico_pedido)
f_region <- 'usa'
f_variable <- eval(parse(text = paste0('parametros$',f_region,'_filtros[1]')))
f_choices <- eval(parse(text = paste0('unique(tablas$',f_region,'$',f_variable,')')))
parse(text = paste0('unique(tablas$',f_region,'$',f_variable,')'))
names(tablas$usa)
head(tablas$usa)
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido)
head(tablas$usa)
parametros
funcion_juntar_tablas_carpeta <- function(p_carpeta,p_fechas,p_cantidades,p_filtros,p_pedido){
f_archivos <- list.files(paste0('datos/',p_carpeta))
f_archivos <- f_archivos[!str_detect(f_archivos,'~')]
f_lista <- list()
for(i in 1:length(f_archivos)){
f_lista[[i]] <- read_excel(paste0('datos/',p_carpeta,'/',f_archivos[i])) %>%
setNames(.,stringr::str_replace_all(names(.),' ','_'))
}
f_lista <- do.call('rbind',f_lista)
f_lista <- as.data.frame(f_lista) %>%
setNames(.,stringr::str_replace_all(names(.),' ','_'))
for(i in 1:length(p_filtros)){
eval(parse(text = paste0(
'f_lista$',p_filtros[i],'[is.na(f_lista$',p_filtros[i],')] <- "ninguno ;"
f_lista$',p_pedidos[i],'[is.na(f_lista$',p_pedido[i],')] <- "ninguno"'
)))
}
f_lista <- f_lista %>%
mutate_at(.vars = p_fechas,.funs = as.Date) %>%
mutate_at(.vars = p_cantidades,.funs = function(a){as.numeric(as.character(a))}) %>%
mutate_at(.vars = p_pedido,.funs = as.character) %>%
mutate_at(.vars = p_filtros,.funs = as.factor)
f_resultado <- f_lista[,(length(f_lista) - length(p_fechas) - length(p_cantidades) - length(p_pedido) - length(p_filtros) + 1):(length(f_lista))]
f_resultado <- f_resultado %>%
setNames(c(p_fechas,p_cantidades,p_pedido,p_filtros))
return(f_resultado)
}
funcion_cargar_datos <- function(p_carpeta,p_fechas,p_cantidades,p_filtros,p_pedido){
f_tabla <- funcion_juntar_tablas_carpeta(p_carpeta,p_fechas,p_cantidades,p_filtros,p_pedido)
}
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región == 'USA')
head(tablas$usa)
p_carpeta <- parametros$usa_carpeta
p_fechas <- parametros$usa_fechas
p_cantidades <- parametros$usa_cantidades
p_filtros <- parametros$usa_filtros
p_pedido <- parametros$usa_pedido
f_archivos <- list.files(paste0('datos/',p_carpeta))
f_archivos <- f_archivos[!str_detect(f_archivos,'~')]
f_archivos
f_archivos <- f_archivos[!str_detect(f_archivos,'~')]
f_lista <- list()
for(i in 1:length(f_archivos)){
f_lista[[i]] <- read_excel(paste0('datos/',p_carpeta,'/',f_archivos[i])) %>%
setNames(.,stringr::str_replace_all(names(.),' ','_'))
}
f_lista <- do.call('rbind',f_lista)
f_lista <- as.data.frame(f_lista) %>%
setNames(.,stringr::str_replace_all(names(.),' ','_'))
head(f_lista)
for(i in 1:length(p_filtros)){
eval(parse(text = paste0(
'f_lista$',p_filtros[i],'[is.na(f_lista$',p_filtros[i],')] <- "ninguno ;"'
)))
}
for(i in 1:length(p_pedido)){
eval(parse(text = paste0(
'f_lista$',p_pedido[i],'[is.na(f_lista$',p_pedido[i],')] <- "ninguno ;"'
)))
}
head(f_lista)
f_lista2 <- f_lista %>%
mutate_at(.vars = p_fechas,.funs = as.Date) %>%
mutate_at(.vars = p_cantidades,.funs = function(a){as.numeric(as.character(a))}) %>%
mutate_at(.vars = p_pedido,.funs = as.character) %>%
mutate_at(.vars = p_filtros,.funs = as.factor)
head(f_lista2)
f_lista <- f_lista %>%
mutate_at(.vars = p_fechas,.funs = as.Date) %>%
mutate_at(.vars = p_cantidades,.funs = function(a){as.numeric(as.character(a))}) %>%
mutate_at(.vars = p_pedido,.funs = as.character) %>%
mutate_at(.vars = p_filtros,.funs = as.factor)
head(f_lista)
f_resultado <- f_lista %>%
select(c(p_fechas,p_cantidades,p_pedido,p_filtros))
head(f_resultado)
runApp()
tablas <- list()
source('gs.R', encoding = "UTF-8")
library(shinydashboard)
library(stringr)
library(shinyWidgets)
library(readr)
library(readxl)
library(ggplot2)
library(lubridate)
library(formattable)
library(tidyr)
library(plyr)
library(dplyr)
library(RColorBrewer)
source('gs.R', encoding = "UTF-8")
# source('proceso.R', encoding = "UTF-8")
# source('grafica_fill_rate.R', encoding = "UTF-8")
# source('mapa.R', encoding = "UTF-8")
source('funciones_de_carga.R', encoding = "UTF-8")
source('funciones_graficas.R', encoding = "UTF-8")
source('funciones_interfaz.R', encoding = "UTF-8")
excel_parametros <- read_excel('datos/setup/parametros.xlsx') %>% data.frame
for(i in 1:nrow(excel_parametros)){
for(j in 1:length(excel_parametros)){
excel_parametros[i,j] <- str_replace_all(excel_parametros[i,j],' ','_')
}
}
parametros <- list()
parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist %>%
as.character
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist %>%
as.character
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist %>%
as.character
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist %>%
as.character
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist %>%
as.character
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist %>%
as.character
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist %>%
as.character
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist %>%
as.character
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist %>%
as.character
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist %>%
as.character
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist %>%
as.character
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist %>%
as.character
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist %>%
as.character
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist %>%
as.character
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist %>%
as.character
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$row <- funcion_cargar_datos(parametros$row_carpeta,parametros$row_fechas,parametros$row_cantidades,parametros$row_filtros,parametros$row_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región != 'USA')
tablas$domestico <- funcion_cargar_datos(parametros$domestico_carpeta,parametros$domestico_fechas,parametros$domestico_cantidades,parametros$domestico_filtros,parametros$domestico_pedido)
parse(text = paste0('f_opciones_filtro1 <- unique(tablas$usa$',parametros$usa_filtros[1],')'))
eval(parse(text = paste0('f_opciones_filtro1 <- unique(tablas$usa$',parametros$usa_filtros[1],')')))
f_opciones
f_opciones_filtro1
eval(parse(text = paste0('f_opciones_filtro1 <- as.character(unique(tablas$usa$',parametros$usa_filtros[1],'))')))  # inicializo el filtro1
f_opciones_filtro1
runApp()
tablas <- list()
parametros <- list()
parametros$domestico_fechas = excel_parametros %>%
dplyr::filter(!is.na(domestico_fechas)) %>%
dplyr::select(domestico_fechas) %>%
unlist %>%
as.character
parametros$usa_fechas = excel_parametros %>%
dplyr::filter(!is.na(usa_fechas)) %>%
dplyr::select(usa_fechas) %>%
unlist %>%
as.character
parametros$row_fechas = excel_parametros %>%
dplyr::filter(!is.na(row_fechas)) %>%
dplyr::select(row_fechas) %>%
unlist %>%
as.character
parametros$domestico_cantidades = excel_parametros %>%
dplyr::filter(!is.na(domestico_cantidades)) %>%
dplyr::select(domestico_cantidades) %>%
unlist %>%
as.character
parametros$usa_cantidades = excel_parametros %>%
dplyr::filter(!is.na(usa_cantidades)) %>%
dplyr::select(usa_cantidades) %>%
unlist %>%
as.character
parametros$row_cantidades = excel_parametros %>%
dplyr::filter(!is.na(row_cantidades)) %>%
dplyr::select(row_cantidades) %>%
unlist %>%
as.character
parametros$domestico_filtros = excel_parametros %>%
dplyr::filter(!is.na(domestico_filtros)) %>%
dplyr::select(domestico_filtros) %>%
unlist %>%
as.character
parametros$usa_filtros = excel_parametros %>%
dplyr::filter(!is.na(usa_filtros)) %>%
dplyr::select(usa_filtros) %>%
unlist %>%
as.character
parametros$row_filtros = excel_parametros %>%
dplyr::filter(!is.na(row_filtros)) %>%
dplyr::select(row_filtros) %>%
unlist %>%
as.character
parametros$usa_carpeta = excel_parametros %>%
dplyr::filter(!is.na(usa_carpeta)) %>%
dplyr::select(usa_carpeta) %>%
unlist %>%
as.character
parametros$row_carpeta = excel_parametros %>%
dplyr::filter(!is.na(row_carpeta)) %>%
dplyr::select(row_carpeta) %>%
unlist %>%
as.character
parametros$domestico_carpeta = excel_parametros %>%
dplyr::filter(!is.na(domestico_carpeta)) %>%
dplyr::select(domestico_carpeta) %>%
unlist %>%
as.character
parametros$usa_pedido = excel_parametros %>%
dplyr::filter(!is.na(usa_pedido)) %>%
dplyr::select(usa_pedido) %>%
unlist %>%
as.character
parametros$row_pedido = excel_parametros %>%
dplyr::filter(!is.na(row_pedido)) %>%
dplyr::select(row_pedido) %>%
unlist %>%
as.character
parametros$domestico_pedido = excel_parametros %>%
dplyr::filter(!is.na(domestico_pedido)) %>%
dplyr::select(domestico_pedido) %>%
unlist %>%
as.character
tablas$usa <- funcion_cargar_datos(parametros$usa_carpeta,parametros$usa_fechas,parametros$usa_cantidades,parametros$usa_filtros,parametros$usa_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región == 'USA')
tablas$row <- funcion_cargar_datos(parametros$row_carpeta,parametros$row_fechas,parametros$row_cantidades,parametros$row_filtros,parametros$row_pedido) %>%
dplyr::filter(Zona_de_ventas != 'ninguno') %>%
dplyr::filter(Nombre_Región != 'USA')
tablas$domestico <- funcion_cargar_datos(parametros$domestico_carpeta,parametros$domestico_fechas,parametros$domestico_cantidades,parametros$domestico_filtros,parametros$domestico_pedido)
input$input_filtro1 <- c("Autoservicio","Mayoreo","CConsumo / RInstituc","Intercompañías")
input <- list()
input$input_filtro1 <- c("Autoservicio","Mayoreo","CConsumo / RInstituc","Intercompañías")
f_region <- 'row'
eval(parse(text = paste0('a <- (length(parametros$',f_region,'_filtros) >= 2)')))
a
f_variable_1 <- eval(parse(text = paste0('parametros$',f_region,'_filtros[1]')))
cat(f_variable_1)
f_filtro1 <- paste0('"',paste0(input$input_filtro1,collapse = '","'),'"')
cat(f_filtro1)
f_variable_2 <- eval(parse(text = paste0('parametros$',f_region,'_filtros[2]')))
cat(f_variable_2)
f_tabla <- eval(parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'))')))
parse(text = paste0('as.character(unique(f_tabla$',f_region,'$',f_variable_2,'))'))
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'))'))
cat(f_filtro1)
paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'))')
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'))'))
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'"))'))
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'))'))
f_filtro1 <- paste0('"',paste0(input$input_filtro1,collapse = '","'))
cat(f_filtro1)
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'"))'))
parse(text = paste0('as.character(unique(f_tabla$',f_region,'$',f_variable_2,'))'))
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'")))'))
eval(parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'"))')))
input$input_filtro1
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,')'))
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'))'))
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% c(',f_filtro1,'"))'))
f_filtro1 <- paste0('c("',paste0(input$input_filtro1,collapse = '","'),'")')
cat(f_filtro1)
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,')'))
cat(f_filtro1)
f_tabla <- eval(parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,'\)')))
f_tabla <- eval(parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,')')))
paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,')')
parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,')'))
tablas$row %>% dplyr::filter(Nombre_Región %in% c("Autoservicio","Mayoreo","CConsumo / RInstituc","Intercompañías"))
tablas$row
tablas$row$Nombre_Región
f_region
input$input_filtro1
f_region <- 'domestico'
eval(parse(text = paste0('a <- (length(parametros$',f_region,'_filtros) >= 2)')))
f_variable_1 <- eval(parse(text = paste0('parametros$',f_region,'_filtros[1]')))
cat(f_variable_1)
f_filtro1 <- paste0('c("',paste0(input$input_filtro1,collapse = '","'),'")')
cat(f_filtro1)
f_variable_2 <- eval(parse(text = paste0('parametros$',f_region,'_filtros[2]')))
cat(f_variable_2)
f_tabla <- eval(parse(text=paste0('tablas$',f_region,' %>% dplyr::filter(',f_variable_1,' %in% ',f_filtro1,')')))
f_choices <- eval(parse(text = paste0('as.character(unique(f_tabla$',f_region,'$',f_variable_2,'))')))
parse(text = paste0('as.character(unique(f_tabla$',f_region,'$',f_variable_2,'))'))
f_choices <- eval(parse(text = paste0('as.character(unique(f_tabla$',f_variable_2,'))')))
runApp()
runApp()
shiny::runApp()
